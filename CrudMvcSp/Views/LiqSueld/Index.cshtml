@model  IEnumerable<CrudMvcSp.Models.SP_Mues_liqSueldo_Result>

@{

    ViewBag.Title = "Index";

    WebGrid grid = new WebGrid(Model, defaultSort: "Nombre",
                             selectionFieldName: "Rut_Empleado",
                             rowsPerPage: 10,
                             sortDirectionFieldName: "Nombre"
                             );
}
<br />
<br />
<h2>Mantención de Liquidación De Sueldos</h2>
<br />
<br />
@Scripts.Render("~/bundles/jquery")

@Scripts.Render("~/bundles/bootstrap")

@Styles.Render("~/Content/fontawesome")

<table class="table table-responsive table-striped table-condensed" id="NueLiqSueld">
    <tr>
        <td>
            <button id="BtnNueLiqSueld" value="Agregar Liquidación De Sueldo" class="btn btn-group-lg btn-success BtnNuevo"> <i class="fa fa-plus-circle"></i> Agregar Liquidación De Sueldo </button>
        </td>
    </tr>
</table>

@*<table border="1" class="table table-responsive table-striped table-condensed" id="TablSelec">
    <tr>
        <td align="center">Id Liquidación Sueldo</td>
        <td align="center">Rut Empleado</td>
        <td align="center">Fecha Liquidación Sueldo</td>
    </tr>
    <tr>
        <td align="center"><input type="text"  id="idliqsu"/></td>
        <td align="center"><input type="text" id="RutEmplLiqsu" /></td>
        <td align="center"><input type="text" id="FechLiqSu" /></td>
    </tr>
</table>*@

<form id="formMuesCargFam" method="post">
    @if (Model.Count() != 0)
    {
        <div class="table table-responsive table-striped table-bordered table-condensed" id="gridCargFam">
            @grid.GetHtml(
             alternatingRowStyle: "webgrid-alternating-row",
             htmlAttributes: new { @id = "TablaLiqSueld", width = "50px", @class = "Grid" },
             tableStyle: "webgrid-table table table-responsive table-bordered",
             headerStyle: "webgrid-header",
             footerStyle: "webgrid-footer",
             selectedRowStyle: "webgrid-selected-row",
             rowStyle: "webgrid-row-style",
             mode: WebGridPagerModes.All,
             firstText: "Primera Pagina",
             previousText: "Pagina Anterior",
             nextText: "Pagina Siguiente",
             lastText: "Ultima Pagina",
             displayHeader: true,
             columns:
              new[] {
                    grid.Column("Rut_Empleado","Rut Empleado"),
                    grid.Column("Nombre","Nombre"),
                    grid.Column("Descr_Tipo","Tipo_Liquidación"),
                    grid.Column("Sueldo_Base","Sueldo Base"),
                    grid.Column("Fecha_Liquidacion","Mes Liquidacióon"),
                    grid.Column("Dias_Trabajados","Dias Trabajados"),
                    grid.Column("Cant_Horas_Extras","Horas Hextras"),
                    grid.Column("Valor_Horas_Extras","Valor Hora"),
                    grid.Column("Comisiones","Comisiones"),
                    grid.Column("Bonos","Bonon"),
                    grid.Column("Colacion","Colación"),
                    grid.Column("Movilizacion","Moovilización"),
                    grid.Column("Nom_Afp","Afp"),
                    grid.Column("Valor_Afp","Monto a Pagar"),
                    grid.Column("Nombre_Salud","Salud"),
                    grid.Column("Valor_Salud","Monto a Pagar"),
                    grid.Column("Otrs_Descuentos","Total Descuentos"),
                    grid.Column("Total_Pagar","A Pagar"),
                    grid.Column(header: "Acciones", style: "col-sm-2", format:
                    @<span class="link">
                        <a class="btn btn-success btn-xs glyphicon glyphicon-pencil Edit" href="javascript:;"> Edit</a>
                        <a class="btn btn-warning btn-xs glyphicon glyphicon-print  Info" href="javascript:;"> Info</a>
                        <a class="btn btn-danger  btn-xs glyphicon glyphicon-trash  Delete" href="javascript:;"> Delete</a>
                    </span> )
                                         })
        </div>
        <div id="TablExport">
            <table align="center">
                <tr>
                    <td>@Html.ActionLink(" Export A Pdf", "LiqSueldPDF", "LiqSueld", new { @class = "btn btn-primary fa fa-file-pdf-o" }) | </td>
                    <td> </td>
                    <td>@Html.ActionLink(" Export A Excel", "LiqSueldXls", "LiqSueld", new { @class = "btn btn-primary fa fa-file-excel-o" }) | </td>
                    <td> </td>
                    <td>@Html.ActionLink(" Export A CSV", "LiqSueldCsv", "LiqSueld", new { @class = "btn btn-primary fa fa-file-excel-o" }) | </td>
                    <td> </td>
                    <td>@Html.ActionLink(" Export A DOC", "LiqSueldDocx", "LiqSueld", new { @class = "btn btn-primary fa fa-file-word-o" }) </td>
                </tr>
            </table>
        </div>
    }
    else
    {
        <div>
            <table align="center">
                <tr>
                    <td>
                        <h4> <i class="fa fa-folder-open"></i> No Hay Datos Disponibles, Haga Click en <b>Agregar Liquidación De Sueldo</b> <i class="fa fa-folder-open"></i> </h4>
                    </td>
                </tr>
            </table>
        </div>
    }
</form>

<!-- Modal Agrega Liquidación de Sueldos -->
<div class="modal" id="AgrLiqSueld">
    <div class="modal-dialog modal-lg" style="width:70%;">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header text-center">
                <h2 class="modal-title">Nueva Liquidación de Sueldos</h2>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">
                <form id="IngLiqSuel" enctype="multipart/form-data" method="post">
                    <div class="tab-content">
                            <br />
                            <table align="center">
                                <tr>
                                    <td align="center">Rut Empleado</td>
                                    <td></td>
                                    <td align="center"><input type="text" id="RutEmp" required /></td>
                                    <td></td>
                                    <td align="center">Tipo Remuneración</td>
                                    <td></td>
                                    <td>@Html.DropDownList("ListTipRem", ViewBag.ListNacion as SelectList, "Seleccione Tipo Remuneración", new { @class = "form-control", style = "width:175px" })</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td> </td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </table>
                    </div>
                </form>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button class="btn btn-success" id="BtnGrabEmp" value="Grabar"><i class="fa fa-download"></i> Grabar</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>




@*
    Rut_Empleado,
    Id_Tipo_Renumeracion,
    Plazo_Contrato,
    Fecha_Liquidacion,
    Dias_Trabajados,
    Gratificacion,
    Sueldo_Base,
    Valor_Grat,
    Cant_Horas_Extras,
    Valor_Horas_Extras,
    Comisiones,
    Bonos,
    Colacion,
    Movilizacion,
    CodAfp,
    Valor_Afp,
    Cod_Salud,
    Valor_Salud,
    Valor_Seg_Cesantia,
    Valor_Impuesto,
    Apv,
    Otrs_Descuentos,
    Total_Pagar,*@

<!-- Modal Agrega Liquidación De Sueldo -->
<div class="modal" id="AgrLiqSueld">
    <div class="modal-dialog modal-lg" style="width:70%;">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header text-center">
                <h2 class="modal-title">Nueva Liquidación De Sueldo</h2>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">
                <form id="IngEmpl" enctype="multipart/form-data" method="post">
                    <div class="tab-content">
                        <br />
                        <table align="center" border="1">
                            <tr>
                                <td align="center">Rut Empleado</td>
                                <td></td>
                                <td align="center"><input type="text" id="RutEmp" required /></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td ></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </form>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button class="btn btn-success" id="BtnGrabLiqSueld" value="Grabar"><i class="fa fa-download"></i> Grabar</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>




@section scripts {
    <link href="~/Content/WebGrid/WebGrid.css" rel="stylesheet" />
    <link href="~/Content/EstilosGenerales/style.css" rel="stylesheet" />
    <link href="~/Content/themes/base/jquery-ui.css" rel="stylesheet" />
    <link href="~/Content/toastr.css" rel="stylesheet" />
    <script src="~/Scripts/toastr.js"></script>
    <script src="~/Scripts/Aplicacion/LiqSuel/LiqSuel.js"></script>
}